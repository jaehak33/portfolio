<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ë„¤íŠ¸ì›Œí¬ Â· ì‹œìŠ¤í…œ ë³´ì•ˆ í¬íŠ¸í´ë¦¬ì˜¤</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">

  <style>
    .rotate-180 { transform: rotate(180deg); }
    .transition-transform { transition: transform 0.3s ease; }

    /* ëª¨ë‹¬ ë°°ê²½ */
    #imageModal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 50;
    }
    #imageModal.hidden {
      display: none;
    }

    /* ëª¨ë‹¬ ì´ë¯¸ì§€ */
    #modalImage {
      max-width: 90vw;
      max-height: 80vh;
      border-radius: 10px;
      box-shadow: 0 0 20px rgba(0,0,0,0.8);
      user-select: none;
    }

    /* ëª¨ë‹¬ ì¢Œìš° ë²„íŠ¼ */
    .modal-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: white;
      font-size: 3rem;
      cursor: pointer;
      user-select: none;
      z-index: 60;
      background: rgba(0,0,0,0.3);
      padding: 0 10px;
      border-radius: 5px;
      transition: background 0.3s;
    }
    .modal-arrow:hover {
      background: rgba(0,0,0,0.6);
    }
    .modal-arrow.left { left: 15px; }
    .modal-arrow.right { right: 15px; }

    /* ì¸ë„¤ì¼ ë˜í¼ */
    .thumbnail-wrapper {
      overflow-x: auto;
      max-width: 100%;
      box-sizing: border-box;
      padding: 0.25rem 0.5rem;
      background: white;
      border-radius: 0.25rem;
      display: flex;
      gap: 0.25rem;
    }
    .thumbnail-wrapper img {
      max-height: 70px;
      max-width: 70px;
      object-fit: cover;
      flex-shrink: 0;
      border-radius: 0.25rem;
      cursor: pointer;
      user-select: none;
      transition: transform 0.2s ease;
    }
    .thumbnail-wrapper img:hover {
      transform: scale(1.1);
    }

    /* ì¹´ë“œ */
    .card {
      background-color: #f9fafb; /* bg-gray-50 */
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #e5e7eb; /* border-gray-200 */
      display: flex;
      flex-direction: column;
      min-height: 140px;
      max-width: 100%;
      overflow: hidden;
      cursor: pointer;
      transition: box-shadow 0.3s ease;
    }
    .card:hover {
      box-shadow: 0 4px 10px rgb(0 0 0 / 0.1);
    }
  </style>
</head>

<body class="bg-gray-50 text-gray-900">

<div class="max-w-5xl mx-auto px-6 py-24">

  <!-- Back -->
  <button onclick="window.history.back()"
    class="mb-6 px-4 py-2 bg-gray-800 text-white rounded-lg shadow hover:bg-gray-700 transition flex items-center gap-2">
    <i class="ri-arrow-left-line"></i> Back
  </button>

  <h2 class="text-3xl font-bold mb-8">ë„¤íŠ¸ì›Œí¬ Â· ì‹œìŠ¤í…œ ë³´ì•ˆ</h2>

  <!-- ================= íƒ­ 1 : ëª¨ì˜í•´í‚¹ ================= -->
  <div class="mb-4 bg-white rounded-xl border shadow">
    <button onclick="toggleSection('sec-overview')" class="w-full p-5 flex justify-between bg-gray-100">
      <span class="text-xl font-bold">ëª¨ì˜í•´í‚¹</span>
      <i id="icon-sec-overview" class="ri-arrow-down-s-line text-2xl transition-transform"></i>
    </button>

    <div id="sec-overview" class="p-6 block">
      <p class="text-gray-700 leading-relaxed mb-6">CTF í’€ì´ì…ë‹ˆë‹¤.</p>

      <div id="hacking-gallery" class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"></div>
    </div>
  </div>

  <!-- ================= íƒ­ 2 : ì‹œìŠ¤í…œ ë³´ì•ˆ ================= -->
  <div class="mb-4 bg-white rounded-xl border shadow">
    <button onclick="toggleSection('sec-system')" class="w-full p-5 flex justify-between bg-gray-100">
      <span class="text-xl font-bold">ì‹œìŠ¤í…œ ë³´ì•ˆ</span>
      <i id="icon-sec-system" class="ri-arrow-down-s-line text-2xl transition-transform"></i>
    </button>

    <div id="sec-system" class="hidden p-6">
      <div id="system-gallery" class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"></div>
    </div>
  </div>

  <!-- ================= íƒ­ 3 : ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ ================= -->
  <div class="mb-4 bg-white rounded-xl border shadow">
    <button onclick="toggleSection('sec-network')" class="w-full p-5 flex justify-between bg-gray-100">
      <span class="text-xl font-bold">ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ</span>
      <i id="icon-sec-network" class="ri-arrow-down-s-line text-2xl transition-transform"></i>
    </button>

    <div id="sec-network" class="hidden p-6">
      <div id="network-gallery" class="grid grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3"></div>
    </div>
  </div>

</div>

<!-- ëª¨ë‹¬ -->
<div id="imageModal" class="hidden" onclick="closeModal(event)">
  <i class="ri-close-line absolute top-6 right-6 text-white text-4xl cursor-pointer z-60" onclick="closeModal(event)"></i>
  <i class="ri-arrow-left-line modal-arrow left" onclick="prevImage(event)"></i>
  <img id="modalImage" src="" alt="Modal Image" draggable="false" />
  <i class="ri-arrow-right-line modal-arrow right" onclick="nextImage(event)"></i>
</div>

<script>
  /* ================= í† ê¸€ ì„¹ì…˜ ================= */
  function toggleSection(id) {
    const content = document.getElementById(id);
    const icon = document.getElementById("icon-" + id);
    content.classList.toggle("hidden");
    icon.classList.toggle("rotate-180");
  }

  /* ================= ì´ë¯¸ì§€ ë°ì´í„° ================= */

  /* ğŸ”¹ ëª¨ì˜í•´í‚¹ */
  const hackingImages = [
    { src: "g/a/ipí™•ì¸.PNG", desc: ".ovaíŒŒì¼ ë‹¤ìš´ë¡œë“œ í›„ vmìœ¼ë¡œ ì˜¬ë ¸ì„ ë•Œì˜ í™”ë©´" },
    { src: "g/a/í¬íŠ¸ìŠ¤ìºë‹ê²°ê³¼.PNG", desc: "Nmapì„ ì´ìš©í•œ í¬íŠ¸ ë° ì„œë¹„ìŠ¤ ìŠ¤ìº”" },
    { src: "g/a/80í¬íŠ¸.PNG", desc: "80í¬íŠ¸ í™•ì¸ ê²°ê³¼" },
    { src: "g/a/8080í¬íŠ¸í™•ì¸,ì†ŒìŠ¤ì—ì´ìƒí•œì í™•ì¸.PNG", desc: "8080í¬íŠ¸ í™•ì¸ ê²°ê³¼" },
    { src: "g/a/idì™€íŒ¨ìŠ¤ì›Œë“œí™•ì¸.PNG", desc: "mynote.txt í™•ì¸ ê²°ê³¼" },
    { src: "g/a/ë””ë ‰í† ë¦¬ìŠ¤ìºë‹ê²°ê´´.PNG", desc: "ë””ë ‰í† ë¦¬ ìŠ¤ìºë‹ ê²°ê³¼" },
    {
      src: [
        "g/a/modules.PNG",
        "g/a/plugins.PNG",
        "g/a/bootstrap.PNG",
        "g/a/config.PNG",
        "g/a/themes.PNG",
        "g/a/vendor.PNG",
        "g/a/backend.PNG",
      ],
      desc: "ë””ë ‰í† ë¦¬ ìŠ¤ìºë‹ í™•ì¸ ê²°ê³¼"
    },
      { src: "g/a/ì›¹í˜ì´ì§€ë¥¼ë§Œë“œëŠ”ê¸°ëŠ¥ì´ìˆëŠ”ê±°ê°™ìŒ.PNG", desc: "mynote.txtì—ì„œ ì–»ì€ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸" },
      { src: "g/a/í˜ì´ì§€ë§Œë“¤ì–´ì§.PNG", desc: "í˜ì´ì§€ë¥¼ ë§Œë“œëŠ” ê¸°ëŠ¥ì„ ì‹¤í—˜ ê²°ê³¼ ë§Œë“¤ì–´ì§" },  
      { src: "g/a/ê°„ë‹¨í•œì›¹ì…¸ì½”ë“œì‘ì„±í›„ ì €ì¥.PNG", desc: "ë¦¬ë²„ìŠ¤ ì…¸ ì½”ë“œ ì‘ì„± í›„ ì €ì¥" },
      { src: "g/a/ë¦¬ìŠ¤ë‹ í›„ ì‹¤í–‰.PNG", desc: "ë¦¬ìŠ¤ë‹ í›„ í…ŒìŠ¤íŠ¸í˜ì´ì§€ ì ‘ê·¼" },
      { src: "g/a/ê°„ë‹¨í•œì •ë³´ìˆ˜ì§‘.PNG", desc: "ì—°ê²° ì„±ê³µ í›„ ê°„ë‹¨í•œ ì •ë³´ ìˆ˜ì§‘" },
      { src: "g/a/íŒŒì´ì¬ setuidí™•ì¸.PNG", desc: "ì •ë³´ ìˆ˜ì§‘ ì¤‘ íŒŒì´ì¬ ì‚¬ìš© ê°€ëŠ¥ í™•ì¸" },
      { src: "g/a/ë£¨íŠ¸ê¶Œí•œíšë“í›„ë£¨íŠ¸í”Œë˜ê·¸í™•ì¸.PNG", desc: "íŒŒì´ì¬ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œìƒìŠ¹ ì‹œë„ í›„ ë£¨íŠ¸í”Œë˜ê·¸ í™•ì¸" }
  ];

  /* ğŸ”¹ ì‹œìŠ¤í…œ ë³´ì•ˆ */
  const systemImages = [
    { src: "N,S/Plen.PNG", desc: "Password ë³µì¡ë„ ì„¤ì •" },
    { src: "N,S/pass.PNG", desc: "PW ë§Œë£Œ ê¸°ê°„ ì„¤ì •" },
    { src: "N,S/wtmpbtmp.PNG", desc: "wtmp / btmp ë¡œê·¸ í™•ì¸" },
    { src: "N,S/setuid.PNG", desc: "SetUID ê¶Œí•œ ìƒìŠ¹ ì‹¤ìŠµ" },
    { src: "N,S/BOF.PNG", desc: "Buffer Overflow ê³µê²© ì‹¤ìŠµ" }
  ];

  /* ğŸ”¹ ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ */
  const networkImages = [
    { src: "N,S/all.PNG", desc: "ì „ì²´ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€" },
    { src: "N,S/snort.PNG", desc: "Snort íŠ¸ë˜í”½ íƒì§€" },
    { src: "N,S/pfsense.PNG", desc: "pfSense OpenVPN êµ¬ì„±" }
  ];

  /* ================= ê°¤ëŸ¬ë¦¬ ìƒì„± ================= */
  function renderGallery(data, targetId) {
    const target = document.getElementById(targetId);

    data.forEach((item, idx) => {
      const card = document.createElement("div");
      card.className = "card";

      // ì´ë¯¸ì§€ ì—¬ëŸ¬ì¥ì¼ ê²½ìš° ì‘ì€ ì¸ë„¤ì¼ë¡œ ëª¨ë‘ í‘œì‹œ (ê°€ë¡œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
      let imagesHTML = "";

      if (Array.isArray(item.src)) {
        imagesHTML = `<div class="thumbnail-wrapper">`;
        item.src.forEach((src, index) => {
          imagesHTML += `
            <img src="${src}"
                 alt="${item.desc}"
                 data-index="${index}">
          `;
        });
        imagesHTML += `</div>`;
      } else {
        imagesHTML = `
          <img src="${item.src}"
               class="max-h-[140px] max-w-full object-contain rounded"
               alt="${item.desc}">
        `;
      }

      card.innerHTML = `
        <div class="flex-1 flex flex-col justify-center items-center bg-white rounded mb-2">
          ${imagesHTML}
        </div>
        <p class="text-xs text-center px-1 break-words">${item.desc}</p>
      `;

      // í´ë¦­ ì‹œ í•´ë‹¹ ì¹´ë“œ ì²« ì´ë¯¸ì§€ë¶€í„° ëª¨ë‹¬ ì—´ê¸°
      card.onclick = (e) => {
        // ì¸ë„¤ì¼ ì´ë¯¸ì§€ í´ë¦­ ì‹œ í•´ë‹¹ ì´ë¯¸ì§€ ì¸ë±ìŠ¤ë¶€í„° ì—´ê¸°
        if (e.target.tagName === "IMG" && e.target.closest(".thumbnail-wrapper")) {
          const imgs = item.src;
          if (Array.isArray(imgs)) {
            currentImages = imgs;
            currentIndex = Number(e.target.dataset.index);
          } else {
            currentImages = [imgs];
            currentIndex = 0;
          }
          updateModalImage();
          document.getElementById("imageModal").classList.remove("hidden");
          e.stopPropagation();
          return;
        }
        // ì¹´ë“œ í´ë¦­ ì‹œ ì²« ë²ˆì§¸ ì´ë¯¸ì§€ë¶€í„° ì—´ê¸°
        openModalWithImages(item.src);
      };

      target.appendChild(card);
    });
  }

  /* ================= ëª¨ë‹¬ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ ê¸°ëŠ¥ ================= */
  let currentImages = [];
  let currentIndex = 0;

  function openModalWithImages(images) {
    currentImages = Array.isArray(images) ? images : [images];
    currentIndex = 0;
    updateModalImage();
    document.getElementById("imageModal").classList.remove("hidden");
  }

  function updateModalImage() {
    const modalImg = document.getElementById("modalImage");
    modalImg.src = currentImages[currentIndex];
  }

  function closeModal(e) {
    // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œë§Œ ë‹«ê¸°, ë‚´ë¶€ í´ë¦­ ë°©ì§€
    if (e.target.id === "imageModal" || e.target.classList.contains("ri-close-line")) {
      document.getElementById("imageModal").classList.add("hidden");
    }
  }

  function prevImage(e) {
    e.stopPropagation();
    if (currentImages.length <= 1) return;
    currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
    updateModalImage();
  }

  function nextImage(e) {
    e.stopPropagation();
    if (currentImages.length <= 1) return;
    currentIndex = (currentIndex + 1) % currentImages.length;
    updateModalImage();
  }

  /* ================= ì‹¤í–‰ ================= */
  renderGallery(hackingImages, "hacking-gallery");
  renderGallery(systemImages, "system-gallery");
  renderGallery(networkImages, "network-gallery");

  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape") {
      closeModal({target: document.getElementById("imageModal")});
    } else if (e.key === "ArrowLeft") {
      prevImage({stopPropagation: () => {}});
    } else if (e.key === "ArrowRight") {
      nextImage({stopPropagation: () => {}});
    }
  });
</script>

</body>
</html>
