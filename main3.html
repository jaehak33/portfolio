<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>네트워크 · 시스템 보안 포트폴리오</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">

  <style>
    /* 기본 스타일 */
    .rotate-180 { transform: rotate(180deg); }
    .transition-transform { transition: transform 0.3s ease; }

    /* 모달 스타일 */
    #imageModal {
      position: fixed; inset: 0; background: rgba(0,0,0,0.85);
      display: flex; justify-content: center; align-items: center; z-index: 50;
    }
    #imageModal.hidden { display: none; }
    #modalImage {
      max-width: 95vw; max-height: 85vh; border-radius: 8px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5); user-select: none;
    }
    .modal-arrow {
      position: absolute; top: 50%; transform: translateY(-50%);
      color: white; font-size: 3rem; cursor: pointer; user-select: none; z-index: 60;
      background: rgba(0,0,0,0.3); padding: 0 15px; border-radius: 8px; transition: background 0.3s;
    }
    .modal-arrow:hover { background: rgba(0,0,0,0.6); }
    .modal-arrow.left { left: 20px; }
    .modal-arrow.right { right: 20px; }

    /* 썸네일 리스트 스타일 */
    .thumbnail-wrapper {
      overflow-x: auto; max-width: 100%; box-sizing: border-box;
      padding: 0.5rem; background: white; border-radius: 0.25rem;
      display: flex; gap: 0.4rem; scrollbar-width: thin;
    }
    .thumbnail-wrapper::-webkit-scrollbar { height: 6px; }
    .thumbnail-wrapper::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 3px; }
    .thumbnail-wrapper img {
      height: 70px; width: auto; object-fit: cover; flex-shrink: 0;
      border-radius: 4px; cursor: pointer; border: 1px solid #e5e7eb; transition: opacity 0.2s;
    }
    .thumbnail-wrapper img:hover { opacity: 0.7; border-color: #3b82f6; }
    
    /* 카드 스타일 */
    .card {
      background-color: #f3f4f6; border-radius: 0.75rem; padding: 0.75rem;
      display: flex; flex-direction: column; box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover { transform: translateY(-4px); box-shadow: 0 10px 15px rgba(0,0,0,0.1); }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans p-6">

  <div class="max-w-7xl mx-auto space-y-12">
    
    <!-- 섹션 1: Hacking -->
    <section>
      <h2 class="text-3xl font-bold mb-6 border-l-8 border-blue-600 pl-4 text-gray-900">Hacking & Web Security</h2>
      <div id="hacking-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
    </section>

    <!-- 섹션 2: System Security (OWASP Juice Shop) - 별 개수 순 정렬 -->
    <section>
      <h2 class="text-3xl font-bold mb-6 border-l-8 border-green-600 pl-4 text-gray-900">System Security (OWASP Juice Shop)</h2>
      <div id="system-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
    </section>

    <!-- 섹션 3: Network Security -->
    <section>
      <h2 class="text-3xl font-bold mb-6 border-l-8 border-purple-600 pl-4 text-gray-900">Network Security</h2>
      <div id="network-gallery" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"></div>
    </section>

  </div>

  <!-- 이미지 확대 모달 -->
  <div id="imageModal" class="hidden" onclick="closeModal(event)">
    <div class="modal-arrow left" onclick="prevImage(event)"><i class="ri-arrow-left-s-line"></i></div>
    <img id="modalImage" src="" alt="확대 이미지" onclick="event.stopPropagation()">
    <div class="modal-arrow right" onclick="nextImage(event)"><i class="ri-arrow-right-s-line"></i></div>
    <div class="absolute top-6 right-6 text-white text-4xl cursor-pointer hover:text-gray-300 transition" onclick="closeModal(event)">
      <i class="ri-close-line"></i>
    </div>
  </div>

<script>
  /* 
     ================= 데이터 설정 ================= 
     [중요] 각 폴더 안에 있는 사진 파일명을 1.png, 2.png, 3.png... 순서로 변경해주세요.
  */

  /* 1. Hacking 데이터 (기존 유지) */
  const hackingImages = [
      { src: "g/a/웹페이지를만드는기능이있는거같음.PNG", desc: "초기 접근: 취약한 페이지 기능 발견 및 계정 정보 획득" },
      { src: "g/a/페이지만들어짐.PNG", desc: "기능 테스트: 페이지 생성 기능을 통한 입력값 검증 부재 확인" },  
      { src: "g/a/간단한웹셸코드작성후 저장.PNG", desc: "Exploit 작성: 리버스 셸(Reverse Shell) 코드 주입" },
      { src: "g/a/리스닝 후 실행.PNG", desc: "연결 시도: Netcat 리스닝 상태에서 웹 셸 실행" },
      { src: "g/a/간단한정보수집.PNG", desc: "초기 거점 확보: 서버 내부 정보 수집 (Reconnaissance)" },
      { src: "g/a/파이썬 setuid확인.PNG", desc: "권한 상승 분석: Python 바이너리의 SetUID 설정 확인" },
      { src: "g/a/루트권한획득후루트플래그확인.PNG", desc: "루트 권한 탈취: Python을 이용한 권한 상승 및 Flag 획득" }
  ];

  /* 2. System Security 데이터 (별 개수 순 정렬: 1개 -> 6개) */
  const systemImages = [
    // 1 Star (★)
    {
      src: [
        "g/a/b/DOM XSS★/DOM XSS시작.PNG",
        "g/a/b/DOM XSS★/두번째.PNG",
        "g/a/b/DOM XSS★/실행됨.PNG",
        "g/a/b/DOM XSS★/취약한코드부분.PNG",
        "g/a/b/DOM XSS★/코드수정.PNG"
      ],
      desc: "DOM XSS (★): 검색창에 iframe 태그를 삽입하여 사용자 브라우저에서 스크립트 실행 (DOM 기반 XSS)"
    },

    // 2 Stars (★★)
    {
      src: [
        "g/b/login admin★★/시작.PNG",
        "g/b/login admin★★/인젝션가능.PNG",
        "g/b/login admin★★/힌트일껄.PNG",
        "g/b/login admin★★/쿼리무시.PNG",
        "g/b/login admin★★/어드민로그인.PNG",
        "g/b/login admin★★/코드문제부분.PNG",
        "g/b/login admin★★/코드수정방안.PNG"
      ],
      desc: "Login Admin (★★): 이메일 필드에 SQL Injection Payload(' OR true--)를 주입하여 비밀번호 없이 관리자 권한 획득"
    },

    // 3 Stars (★★★)
    {
      src: [
        "g/b/Product Tampering★★★/캡처.PNG",
        "g/b/Product Tampering★★★/경로찾기.png",
        "g/b/Product Tampering★★★/경로에서해당번호찾음.png",
        "g/b/Product Tampering★★★/해당데이터바꿀때PUT작동확인.png",
        "g/b/Product Tampering★★★/PUT으로 바꾸고 컨텐트타입추가후 옵션변경.png",
        "g/b/Product Tampering★★★/바뀜.png",
        "g/b/Product Tampering★★★/코드문제점.png"
        "g/b/Product Tampering★★★/수정.PNG"
      ],
      desc: "Product Tampering (★★★): Burp Suite를 이용해 HTTP 요청을 가로채고 제품 링크(href)를 무단으로 변조"
    },

    // 4 Stars (★★★★)
    {
      src: [
        "g/a/b/Christmas Special★★★★/1.png",
        "g/a/b/Christmas Special★★★★/2.png",
        "g/a/b/Christmas Special★★★★/3.png",
        "g/a/b/Christmas Special★★★★/4.png"
      ],
      desc: "Christmas Special (★★★★): SQL Injection을 통해 2014년 숨겨진 크리스마스 프로모션 상품을 강제로 주문"
    },

    // 5 Stars (★★★★★)
    {
      src: [
        "g/a/b/Kill Chatbot★★★★★/1.png",
        "g/a/b/Kill Chatbot★★★★★/2.png",
        "g/a/b/Kill Chatbot★★★★★/3.png",
        "g/a/b/Kill Chatbot★★★★★/4.png",
        "g/a/b/Kill Chatbot★★★★★/5.png",
        "g/a/b/Kill Chatbot★★★★★/6.png",
        "g/a/b/Kill Chatbot★★★★★/7.png"
      ],
      desc: "Kill Chatbot (★★★★★): 챗봇 로직의 취약점을 분석하고 악용하여 챗봇 프로세스를 종료(DoS)시킴"
    },

    // 6 Stars (★★★★★★)
    {
      src: [
        "g/a/b/SSRF★★★★★★/1.png",
        "g/a/b/SSRF★★★★★★/2.png",
        "g/a/b/SSRF★★★★★★/3.png",
        "g/a/b/SSRF★★★★★★/4.png",
        "g/a/b/SSRF★★★★★★/5.png"
      ],
      desc: "SSRF (★★★★★★): 서버 로컬 파일 시스템의 숨겨진 디렉터리(/ftp/quarantine)에 접근하여 악성코드 파일 탐색"
    }
  ];

  /* 3. Network Security 데이터 (기존 유지) */
  const networkImages = [
    { src: "N,S/all.PNG", desc: "전체 네트워크 토폴로지 구성도" },
    { src: "N,S/snort.PNG", desc: "Snort IDS/IPS 트래픽 탐지 및 로그 분석" },
    { src: "N,S/pfsense.PNG", desc: "pfSense 방화벽 및 OpenVPN 보안 설정" }
  ];


  /* ================= 렌더링 함수 ================= */
  function renderGallery(data, targetId) {
    const target = document.getElementById(targetId);
    if (!target) return;

    data.forEach((item, idx) => {
      const card = document.createElement("div");
      card.className = "card";

      let imagesHTML = "";
      const imagesList = Array.isArray(item.src) ? item.src : [item.src];

      if (imagesList.length > 0) {
          imagesHTML = `<div class="thumbnail-wrapper">`;
          imagesList.forEach((src, index) => {
            // 이미지 로드 실패 시 스타일 유지하며 엑박 처리
            imagesHTML += `
              <img src="${src}"
                   alt="${item.desc} - Step ${index+1}"
                   data-index="${index}"
                   data-group-idx="${idx}"
                   onerror="this.style.opacity='0.3'">
            `;
          });
          imagesHTML += `</div>`;
      }

      card.innerHTML = `
        <div class="flex-1 flex flex-col justify-center bg-white rounded-lg mb-3 overflow-hidden border border-gray-200">
           ${imagesHTML}
        </div>
        <p class="text-sm text-gray-700 text-center px-1 break-words font-semibold leading-relaxed">${item.desc}</p>
      `;

      card.onclick = (e) => {
        const targetImg = e.target.closest('img');
        if (targetImg && targetImg.closest('.thumbnail-wrapper')) {
            const index = Number(targetImg.dataset.index);
            openModal(imagesList, index);
        } else {
            openModal(imagesList, 0);
        }
      };

      target.appendChild(card);
    });
  }

  /* ================= 모달 기능 ================= */
  let currentImages = [];
  let currentIndex = 0;

  function openModal(images, index) {
    currentImages = images;
    currentIndex = index;
    updateModalImage();
    document.getElementById("imageModal").classList.remove("hidden");
    document.body.style.overflow = 'hidden'; 
  }

  function updateModalImage() {
    const modalImg = document.getElementById("modalImage");
    if(currentImages.length > 0) {
        modalImg.src = currentImages[currentIndex];
    }
  }

  function closeModal(e) {
    if (e.target.id === "imageModal" || e.target.closest(".absolute")) {
      document.getElementById("imageModal").classList.add("hidden");
      document.body.style.overflow = '';
    }
  }

  function prevImage(e) {
    e.stopPropagation();
    if (currentImages.length <= 1) return;
    currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
    updateModalImage();
  }

  function nextImage(e) {
    e.stopPropagation();
    if (currentImages.length <= 1) return;
    currentIndex = (currentIndex + 1) % currentImages.length;
    updateModalImage();
  }

  /* 실행 */
  document.addEventListener("DOMContentLoaded", () => {
      renderGallery(hackingImages, "hacking-gallery");
      renderGallery(systemImages, "system-gallery");
      renderGallery(networkImages, "network-gallery");
  });

  /* 키보드 이벤트 */
  document.addEventListener("keydown", function (e) {
    const modal = document.getElementById("imageModal");
    if (modal.classList.contains("hidden")) return;

    if (e.key === "Escape") {
      closeModal({target: modal});
    } else if (e.key === "ArrowLeft") {
      prevImage(e);
    } else if (e.key === "ArrowRight") {
      nextImage(e);
    }
  });
</script>

</body>
</html>
